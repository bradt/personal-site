function on_resize(e,t){onresize=function(){clearTimeout(t);t=setTimeout(e,100)};return e}$(document).ready(function(){bradt_load_js_vars();Bradt.init();on_resize(Bradt.photos.gridify)});var Bradt={template_url:"",init:function(){Bradt.menu();Bradt.portfolio.init();Bradt.portfolio_list.init();Bradt.contact.init();Bradt.about.init();Bradt.photos.init();Bradt.home.init();Bradt.single.init();$(".active-plugins .plugin").gridify()},single:{init:function(){$(".single-post .subscribe").each(function(){$(this).prepend('<div class="striping"><b>/</b><i>/</i><b>/</b><i>/</i><b>/</b><i>/</i><b>/</b><i>/</i><b>/</b><i>/</i><b>/</b><i>/</i><b>/</b><i>/</i><b>/</b><i>/</i><b>/</b><i>/</i><b>/</b><i>/</i><b>/</b><i>/</i><b>/</b><i>/</i><b>/</b><i>/</i><b>/</b><i>/</i><b>/</b><i>/</i></div>')})}},home:{init:function(){if(!$(".homepage").get(0))return;$(".albums li").gridify(2)}},photos:{init:function(){Bradt.photos.gridify()},gridify:function(){$(".photo-set").gridify()}},about:{init:function(){if(!$(".page-about").get(0))return;$(".more-history").before('<a href="" class="more-history-btn">Show more work history...</a>');$(".more-history-btn").click(function(){$(".more-history").fadeIn();$(this).remove();return!1})}},contact:{init:function(){if(!$(".page-contact").get(0))return;var e=function(){$(".field-budget").after($(".section-budget"));$("input[name=what]:checked").val()!="work"&&$(".field-budget, .field-schedule").hide();$("input[name=budget]").change(function(){var e=$(this).val();switch(e){case"too_low":$("#message-details, .button, .section, .field-schedule").hide();$(".section-budget").show();break;default:$(".section").hide();$("#message-details, .button, .field-schedule").show()}});$("input[name=what]").change(function(){$(".error").hide();var e=$(this).val();switch(e){case"plugin":case"personal":$("#message-details, .button, .section, .field-budget, .field-schedule").hide();$(".section-"+e).show();break;case"work":$(".section").hide();$("#message-details, .button, .field-budget, .field-schedule").show();break;case"wpappstore":case"general":$(".section, .field-budget, .field-schedule").hide();$(".section").hide();$("#message-details, .button").show();break;default:$("#message-details, .button").hide()}});$("li.option-bot").hide()};e();$("input[name=what]").trigger("change");$("form").submit(function(){var t=$(this),n=t.serialize(),r=t.attr("action")+"?ajax=1";$.post(r,n,function(n){t.html(n);e();if($("p.error-msg").get(0)){$.scrollTo(".indicates",500);$("p.error, p.error-msg").hide().fadeIn()}else $.scrollTo("#header",500)});return!1})}},menu:function(){$("#header ul.nav li a").click(function(){$("#header ul.nav li a").removeClass("active");$(this).addClass("active")})},portfolio_list:{resizing:0,init:function(){if(!$(".page-portfolio-list").get(0))return;Bradt.portfolio.roles.init();$(".project").gridify();setTimeout(Bradt.portfolio_list.resize,1e3);$(window).resize(function(){Bradt.portfolio_list.resizing=1});$(".project").each(function(){$(this).hover(function(){$(this).stop().animate({opacity:"0.7"},200)},function(){$(this).stop().animate({opacity:"1"},200)})})},resize:function(){if(Bradt.portfolio_list.resizing){$(".project").css("height","auto").gridify();Bradt.portfolio_list.resizing=0}setTimeout(Bradt.portfolio_list.resize,1e3)}},portfolio:{init:function(){if(!$(".page-portfolio").get(0))return;$.localScroll.hash();var e=new Image;e.src=Bradt.template_url+"/images/indicator.gif";var t=$(".scr > a");$("ul.screenshots li a").click(function(){var e=$(this);$("ul.screenshots li a").removeClass("current");e.addClass("current");$(".loading",t).get(0)?$(".loading",t).show():t.append('<div class="loading"></div><img src="'+Bradt.template_url+'/images/indicator.gif" width="16" height="16" alt="Loading..." class="loading" />');$(".loading",t).each(function(){var e=$(this),n=t.height()/2-e.height()/2,r=t.width()/2-e.width()/2;e.css("top",n+"px");e.css("left",r+"px")});var n=new Image;$(n).load(function(){$(".loading",t).hide();if(n.height>t.height()){t.css("background-image","url("+e.attr("href")+")");t.animate({height:n.height});$(".project").css("max-width",n.width+"px")}else t.animate({height:n.height},function(){t.css("background-image","url("+e.attr("href")+")");$(".project").css("max-width",n.width+"px")});var r=e.attr("href").replace(/\-[0-9]+x[0-9]+\.jpg/,".jpg");t.attr("href",r);$.scrollTo(".scr",500,{offset:{top:-20}})});n.src=e.attr("href");return!1});$("ul.screenshots li a").each(function(){var e=new Image;e.src=$(this).attr("href")})},roles:{init:function(){$(".tabs li").click(function(){var e=$(this).attr("class");$(".tabs li a").removeClass("current");$("a",this).addClass("current");if(e=="all"){$(".project").removeClass("hidden").show().css("height","auto").gridify();$(".old-portfolio").show();return}$(".old-portfolio").hide();$(".project").addClass("hidden").hide();if(e=="featured"){$(".project.featured").removeClass("hidden").show().css("height","auto").gridify();return}$(".project").each(function(){var t=0;$(".roles li span",this).each(function(){var n=$(this).text().toLowerCase();n=n.replace(/[^a-z0-9]/,"-");n==e&&(t=1)});t&&$(this).removeClass("hidden").show()});$(".project").css("height","auto").gridify()});var e=document.location.hash;if(e){e=e.replace("#","");var t=$(".tabs li."+e).get(0);t&&$(t).trigger("click")}else $(".tabs li:first").trigger("click")}}}};(function(e){e.fn.gridify=function(t){var n=this.not(".hidden");if(!t&&n.size()){var r=n.parent(),i=n.eq(0);t=Math.floor(r.width()/i.outerWidth())}var s=1;return n.each(function(n){if((n+1)%t==0){var r=0,i=e(this);for(var o=1;o<=t;o++){var u=i.height();u>r&&(r=u);i=i.prev();while(i.hasClass("hidden"))i=i.prev()}var i=e(this);for(var o=1;o<=t;o++){i.height(r);i=i.prev();while(i.hasClass("hidden"))i=i.prev()}s++}})}})(jQuery);(function(e){function n(e){return typeof e=="object"?e:{top:e,left:e}}var t=e.scrollTo=function(t,n,r){e(window).scrollTo(t,n,r)};t.defaults={axis:"xy",duration:parseFloat(e.fn.jquery)>=1.3?0:1};t.window=function(t){return e(window)._scrollable()};e.fn._scrollable=function(){return this.map(function(){var t=this,n=!t.nodeName||e.inArray(t.nodeName.toLowerCase(),["iframe","#document","html","body"])!=-1;if(!n)return t;var r=(t.contentWindow||t).document||t.ownerDocument||t;return e.browser.safari||r.compatMode=="BackCompat"?r.body:r.documentElement})};e.fn.scrollTo=function(r,i,s){if(typeof i=="object"){s=i;i=0}typeof s=="function"&&(s={onAfter:s});r=="max"&&(r=9e9);s=e.extend({},t.defaults,s);i=i||s.speed||s.duration;s.queue=s.queue&&s.axis.length>1;s.queue&&(i/=2);s.offset=n(s.offset);s.over=n(s.over);return this._scrollable().each(function(){function h(e){u.animate(l,i,s.easing,e&&function(){e.call(this,r,s)})}var o=this,u=e(o),a=r,f,l={},c=u.is("html,body");switch(typeof a){case"number":case"string":if(/^([+-]=)?\d+(\.\d+)?(px|%)?$/.test(a)){a=n(a);break}a=e(a,this);case"object":if(a.is||a.style)f=(a=e(a)).offset()}e.each(s.axis.split(""),function(e,n){var r=n=="x"?"Left":"Top",i=r.toLowerCase(),p="scroll"+r,d=o[p],v=t.max(o,n);if(f){l[p]=f[i]+(c?0:d-u.offset()[i]);if(s.margin){l[p]-=parseInt(a.css("margin"+r))||0;l[p]-=parseInt(a.css("border"+r+"Width"))||0}l[p]+=s.offset[i]||0;s.over[i]&&(l[p]+=a[n=="x"?"width":"height"]()*s.over[i])}else{var m=a[i];l[p]=m.slice&&m.slice(-1)=="%"?parseFloat(m)/100*v:m}/^\d+$/.test(l[p])&&(l[p]=l[p]<=0?0:Math.min(l[p],v));if(!e&&s.queue){d!=l[p]&&h(s.onAfterFirst);delete l[p]}});h(s.onAfter)}).end()};t.max=function(t,n){var r=n=="x"?"Width":"Height",i="scroll"+r;if(!e(t).is("html,body"))return t[i]-e(t)[r.toLowerCase()]();var s="client"+r,o=t.ownerDocument.documentElement,u=t.ownerDocument.body;return Math.max(o[i],u[i])-Math.min(o[s],u[s])}})(jQuery);(function(e){function r(t,n,r){var i=n.hash.slice(1),s=document.getElementById(i)||document.getElementsByName(i)[0];if(!s)return;t&&t.preventDefault();var o=e(r.target);if(r.lock&&o.is(":animated")||r.onBefore&&r.onBefore.call(r,t,s,o)===!1)return;r.stop&&o.stop(!0);if(r.hash){var u=s.id==i?"id":"name",a=e("<a> </a>").attr(u,i).css({position:"absolute",top:e(window).scrollTop(),left:e(window).scrollLeft()});s[u]="";e("body").prepend(a);location=n.hash;a.remove();s[u]=i}o.scrollTo(s,r).trigger("notify.serialScroll",[s])}var t=location.href.replace(/#.*/,""),n=e.localScroll=function(t){e("body").localScroll(t)};n.defaults={duration:1e3,axis:"y",event:"click",stop:!0,target:window,reset:!0};n.hash=function(t){if(location.hash){t=e.extend({},n.defaults,t);t.hash=!1;if(t.reset){var s=t.duration;delete t.duration;e(t.target).scrollTo(0,t);t.duration=s}r(0,location,t)}};e.fn.localScroll=function(s){function o(){return!!this.href&&!!this.hash&&this.href.replace(this.hash,"")==t&&(!s.filter||e(this).is(s.filter))}s=e.extend({},n.defaults,s);return s.lazy?this.bind(s.event,function(t){var n=e([t.target,t.target.parentNode]).filter(o)[0];n&&r(t,n,s)}):this.find("a,area").filter(o).bind(s.event,function(e){r(e,this,s)}).end().end()}})(jQuery);