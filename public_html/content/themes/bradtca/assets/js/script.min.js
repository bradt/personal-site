function on_resize(e,t){onresize=function(){clearTimeout(t);t=setTimeout(e,100)};return e}var Bradt;(function(e){Bradt={template_url:"",init:function(){Bradt.menu();Bradt.portfolio.init();Bradt.portfolio_list.init();Bradt.contact.init();Bradt.about.init();Bradt.photos.init();Bradt.home.init();Bradt.single.init();e(".active-plugins .plugin").gridify()},single:{init:function(){e(".single-post .subscribe").each(function(){e(this).prepend('<div class="striping"><b>/</b><i>/</i><b>/</b><i>/</i><b>/</b><i>/</i><b>/</b><i>/</i><b>/</b><i>/</i><b>/</b><i>/</i><b>/</b><i>/</i><b>/</b><i>/</i><b>/</b><i>/</i><b>/</b><i>/</i><b>/</b><i>/</i><b>/</b><i>/</i><b>/</b><i>/</i><b>/</b><i>/</i><b>/</b><i>/</i></div>')});Bradt.single.video_resize();on_resize(Bradt.single.video_resize);var t=!1;e("input[type=email]").keyup(function(){if(t)return;if(e(this).val().length>3){e(".field.name").css("width","0px").show().animate({width:"100%"},1e3);t=!0}});e(document).width()>480&&Bradt.single.subscribe_popup()},subscribe_popup:function(){var t=e(".entry-content p"),n=t.size(),r=n-3;r<0&&(r=0);var i=t.eq(r),s=i.offset(),o=s.top,u=!1;e(window).scroll(function(){if(u)return;if(e(window).scrollTop()+e(window).height()>o){var t=e(".subscribe"),n=t.clone();t.hide();n.addClass("popover").hide();e("body").append(n);var r=e('<a class="close" href="">&times;</a>');n.append(r);r.click(function(){t.show();n.hide();return!1});n.css({bottom:-1*n.outerHeight()+"px"}).show().animate({bottom:"0px"},500);u=!0}})},video_resize:function(){e("iframe.oembed").each(function(){var t=e(this).prop("src");if(t&&t.match(/youtube\.com/)){var n=e(".entry-content"),r=n.width(),i=r/e(this).width()*e(this).height();e(this).width(r).height(i)}})}},home:{init:function(){if(!e(".homepage").get(0))return;e(".albums li").gridify(2)}},photos:{init:function(){Bradt.photos.gridify();on_resize(Bradt.photos.gridify)},gridify:function(){e(".photo-set").css("height","auto").gridify()}},about:{init:function(){if(!e(".page-about").get(0))return;e(".more-history").before('<a href="" class="more-history-btn">Show more work history...</a>');e(".more-history-btn").click(function(){e(".more-history").fadeIn();e(this).remove();return!1})}},contact:{init:function(){if(!e(".page-contact").get(0))return;var t=function(){e(".field-budget").after(e(".section-budget"));e("input[name=what]:checked").val()!="work"&&e(".field-budget, .field-schedule").hide();e("input[name=budget]").change(function(){var t=e(this).val();switch(t){case"too_low":e("#message-details, .button, .section, .field-schedule").hide();e(".section-budget").show();break;default:e(".section").hide();e("#message-details, .button, .field-schedule").show()}});e("input[name=what]").change(function(){e(".error").hide();var t=e(this).val();switch(t){case"plugin":case"personal":e("#message-details, .button, .section, .field-budget, .field-schedule").hide();e(".section-"+t).show();break;case"work":e(".section").hide();e("#message-details, .button, .field-budget, .field-schedule").show();break;case"general":e(".section, .field-budget, .field-schedule").hide();e(".section").hide();e("#message-details, .button").show();break;default:e("#message-details, .button").hide()}});e("li.option-bot").hide()};t();e("input[name=what]").trigger("change");e("form").submit(function(){var n=e(this),r=n.serialize(),i=n.attr("action")+"?ajax=1";e.post(i,r,function(r){n.html(r);t();if(e("p.error-msg").get(0)){e.scrollTo(".indicates",500);e("p.error, p.error-msg").hide().fadeIn()}else e.scrollTo("#header",500)});return!1})}},menu:function(){e("#header ul.nav li a").click(function(){e("#header ul.nav li a").removeClass("active");e(this).addClass("active")})},portfolio_list:{resizing:0,init:function(){if(!e(".page-portfolio-list").get(0))return;Bradt.portfolio.roles.init();e(".project").gridify();e("body").width()>640&&on_resize(Bradt.portfolio_list.resize)},resize:function(){e(".project").css("height","auto").gridify()}},portfolio:{init:function(){if(!e(".page-portfolio").get(0))return;e.localScroll.hash();var t=e(".scr");e("ul.screenshots li").click(function(){var n=e("a",this);e("ul.screenshots li").removeClass("current");e(this).addClass("current");e(".bubblingG",t).get(0)?e(".bubblingG",t).show():t.append('<div class="bubblingG"><span id="bubblingG_1"></span><span id="bubblingG_2"></span><span id="bubblingG_3"></span></div>');var r=new Image;e(r).load(function(){e(".bubblingG",t).hide();e("img",t).prop("src",n.attr("href"));var r=n.attr("href").replace(/\-[0-9]+x[0-9]+\.jpg/,".jpg");t.attr("href",r)});r.src=n.attr("href");return!1});e("ul.screenshots li a").each(function(){var t=new Image;t.src=e(this).attr("href")})},roles:{init:function(){e(".tabs li").click(function(){var t=e(this).attr("class");e(".tabs li a").removeClass("current");e("a",this).addClass("current");if(t=="all"){e(".project").removeClass("hidden").show().css("height","auto").gridify();e(".old-portfolio").show();return}e(".old-portfolio").hide();e(".project").addClass("hidden").hide();if(t=="featured"){e(".project.featured").removeClass("hidden").show().css("height","auto").gridify();return}e(".project").each(function(){var n=0;e(".roles li span",this).each(function(){var r=e(this).text().toLowerCase();r=r.replace(/[^a-z0-9]/,"-");r==t&&(n=1)});n&&e(this).removeClass("hidden").show()});e(".project").css("height","auto").gridify()});var t=document.location.hash;if(t){t=t.replace("#","");var n=e(".tabs li."+t).get(0);n&&e(n).trigger("click")}else e(".tabs li:first").trigger("click")}}}};e(document).ready(function(){bradt_load_js_vars();Bradt.init()});e.fn.gridify=function(t){var n=this.not(".hidden");if(!t&&n.size()){var r=n.parent(),i=n.eq(0);t=Math.floor(r.width()/i.outerWidth())}var s=1;return n.each(function(n){if((n+1)%t==0){var r=0,i=e(this);for(var o=1;o<=t;o++){var u=i.height();u>r&&(r=u);i=i.prev();while(i.hasClass("hidden"))i=i.prev()}var i=e(this);for(var o=1;o<=t;o++){i.height(r);i=i.prev();while(i.hasClass("hidden"))i=i.prev()}s++}})}})(jQuery);(function(e){function n(e){return typeof e=="object"?e:{top:e,left:e}}var t=e.scrollTo=function(t,n,r){e(window).scrollTo(t,n,r)};t.defaults={axis:"xy",duration:parseFloat(e.fn.jquery)>=1.3?0:1};t.window=function(t){return e(window)._scrollable()};e.fn._scrollable=function(){return this.map(function(){var t=this,n=!t.nodeName||e.inArray(t.nodeName.toLowerCase(),["iframe","#document","html","body"])!=-1;if(!n)return t;var r=(t.contentWindow||t).document||t.ownerDocument||t;return e.browser.safari||r.compatMode=="BackCompat"?r.body:r.documentElement})};e.fn.scrollTo=function(r,i,s){if(typeof i=="object"){s=i;i=0}typeof s=="function"&&(s={onAfter:s});r=="max"&&(r=9e9);s=e.extend({},t.defaults,s);i=i||s.speed||s.duration;s.queue=s.queue&&s.axis.length>1;s.queue&&(i/=2);s.offset=n(s.offset);s.over=n(s.over);return this._scrollable().each(function(){function h(e){u.animate(l,i,s.easing,e&&function(){e.call(this,r,s)})}var o=this,u=e(o),a=r,f,l={},c=u.is("html,body");switch(typeof a){case"number":case"string":if(/^([+-]=)?\d+(\.\d+)?(px|%)?$/.test(a)){a=n(a);break}a=e(a,this);case"object":if(a.is||a.style)f=(a=e(a)).offset()}e.each(s.axis.split(""),function(e,n){var r=n=="x"?"Left":"Top",i=r.toLowerCase(),p="scroll"+r,d=o[p],v=t.max(o,n);if(f){l[p]=f[i]+(c?0:d-u.offset()[i]);if(s.margin){l[p]-=parseInt(a.css("margin"+r))||0;l[p]-=parseInt(a.css("border"+r+"Width"))||0}l[p]+=s.offset[i]||0;s.over[i]&&(l[p]+=a[n=="x"?"width":"height"]()*s.over[i])}else{var m=a[i];l[p]=m.slice&&m.slice(-1)=="%"?parseFloat(m)/100*v:m}/^\d+$/.test(l[p])&&(l[p]=l[p]<=0?0:Math.min(l[p],v));if(!e&&s.queue){d!=l[p]&&h(s.onAfterFirst);delete l[p]}});h(s.onAfter)}).end()};t.max=function(t,n){var r=n=="x"?"Width":"Height",i="scroll"+r;if(!e(t).is("html,body"))return t[i]-e(t)[r.toLowerCase()]();var s="client"+r,o=t.ownerDocument.documentElement,u=t.ownerDocument.body;return Math.max(o[i],u[i])-Math.min(o[s],u[s])}})(jQuery);(function(e){function r(t,n,r){var i=n.hash.slice(1),s=document.getElementById(i)||document.getElementsByName(i)[0];if(!s)return;t&&t.preventDefault();var o=e(r.target);if(r.lock&&o.is(":animated")||r.onBefore&&r.onBefore.call(r,t,s,o)===!1)return;r.stop&&o.stop(!0);if(r.hash){var u=s.id==i?"id":"name",a=e("<a> </a>").attr(u,i).css({position:"absolute",top:e(window).scrollTop(),left:e(window).scrollLeft()});s[u]="";e("body").prepend(a);location=n.hash;a.remove();s[u]=i}o.scrollTo(s,r).trigger("notify.serialScroll",[s])}var t=location.href.replace(/#.*/,""),n=e.localScroll=function(t){e("body").localScroll(t)};n.defaults={duration:1e3,axis:"y",event:"click",stop:!0,target:window,reset:!0};n.hash=function(t){if(location.hash){t=e.extend({},n.defaults,t);t.hash=!1;if(t.reset){var s=t.duration;delete t.duration;e(t.target).scrollTo(0,t);t.duration=s}r(0,location,t)}};e.fn.localScroll=function(s){function o(){return!!this.href&&!!this.hash&&this.href.replace(this.hash,"")==t&&(!s.filter||e(this).is(s.filter))}s=e.extend({},n.defaults,s);return s.lazy?this.bind(s.event,function(t){var n=e([t.target,t.target.parentNode]).filter(o)[0];n&&r(t,n,s)}):this.find("a,area").filter(o).bind(s.event,function(e){r(e,this,s)}).end().end()}})(jQuery);